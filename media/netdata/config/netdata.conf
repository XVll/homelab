# Netdata Agent Configuration
# Media VM - Streams metrics to parent

[global]
    # Hostname displayed in Netdata UI
    hostname = media-netdata

    # Minimal history on agent (data is stored on parent)
    history = 3600  # 1 hour local retention

    # Memory mode - use ram since parent stores data
    memory mode = ram

[web]
    # Bind to localhost only (access via parent or direct IP)
    bind to = *

[plugins]
    # Enable all collectors for media VM
    proc = yes
    diskspace = yes
    cgroups = yes
    tc = no
    idlejitter = no
    go.d = yes

[plugin:cgroups]
    # Docker container monitoring - IMPORTANT for media stack
    enable by default cgroups matching = *
    search for cgroups in subpaths matching = *docker*

    # Monitor all containers
    enable new cgroups detected at runtime = yes
    check for new cgroups every = 10

[plugin:proc]
    # System monitoring
    /proc/net/dev = yes
    /proc/diskstats = yes
    /proc/stat = yes
    /proc/meminfo = yes
    /proc/vmstat = yes
    /proc/loadavg = yes

[plugin:proc:/proc/diskstats]
    # Monitor all disks including NAS mount
    enable new disks detected at runtime = yes

[health]
    # Disable health checks on agent (parent handles this)
    enabled = no
