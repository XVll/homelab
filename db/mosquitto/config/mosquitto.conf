# Mosquitto MQTT Broker Configuration
# DB Host: 10.10.10.111
# Used by: Home Assistant bridge application

# ============================================================================
# LISTENERS
# ============================================================================

# MQTT Protocol
listener 1883
protocol mqtt

# WebSockets (optional, for web clients)
listener 9001
protocol websockets

# ============================================================================
# AUTHENTICATION
# ============================================================================

# Allow anonymous connections (change to false for production)
# To enable authentication:
# 1. Set allow_anonymous false
# 2. Create password file: mosquitto_passwd -c /mosquitto/config/passwd username
# 3. Uncomment password_file line below
allow_anonymous true

# password_file /mosquitto/config/passwd

# ============================================================================
# PERSISTENCE
# ============================================================================

# Enable message persistence
persistence true
persistence_location /mosquitto/data/

# ============================================================================
# LOGGING
# ============================================================================

log_dest file /mosquitto/log/mosquitto.log
log_dest stdout

# Log types: error, warning, notice, information, debug
log_type error
log_type warning
log_type notice
log_type information

# Log timestamps
log_timestamp true
log_timestamp_format %Y-%m-%d %H:%M:%S

# ============================================================================
# LIMITS
# ============================================================================

# Maximum connections
max_connections -1

# Maximum QoS (0, 1, or 2)
max_qos 2

# Message size limit (bytes, -1 = unlimited)
message_size_limit 0

# ============================================================================
# SYSTEM MONITORING
# ============================================================================

# Enable $SYS topics for monitoring
sys_interval 10
