# Netdata Parent Configuration
# Observability VM - Central monitoring hub

[global]
    # Hostname displayed in Netdata UI
    hostname = observability-netdata

    # History retention (in seconds) - default 3600 = 1 hour
    # Increase for longer retention (uses more disk space)
    history = 14400  # 4 hours

    # Memory mode: ram, save, map, dbengine
    # dbengine = compressed, on-disk storage (recommended for parent)
    memory mode = dbengine

    # Page cache size for dbengine (MB)
    page cache size = 128

    # Database engine disk space (MB) - adjust based on available space
    dbengine multihost disk space = 2048  # 2GB for all child nodes

[web]
    # Web UI bind address
    bind to = *

    # Allow connections from anywhere (since we're using Traefik)
    allow connections from = *

    # Enable gzip compression
    enable gzip compression = yes

[plugins]
    # Enable/disable plugins
    # Since this is a parent, you may want to disable some collectors
    # that are better run on child nodes

    # Keep these enabled for observability VM itself
    proc = yes
    diskspace = yes
    cgroups = yes
    tc = no
    idlejitter = no

    # Enable Docker monitoring
    cgroups = yes
    go.d = yes

[plugin:proc]
    # System monitoring - keep enabled for local VM
    /proc/net/dev = yes
    /proc/diskstats = yes
    /proc/stat = yes
    /proc/meminfo = yes
    /proc/vmstat = yes

[plugin:cgroups]
    # Docker container monitoring
    enable by default cgroups matching = *
    search for cgroups in subpaths matching = *docker*

[plugin:go.d]
    # Enable Go collectors
    enabled = yes
