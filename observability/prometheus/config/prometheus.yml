# ============================================================================
# PROMETHEUS CONFIGURATION - Pure Remote Write Receiver
# ============================================================================
# All metrics collected by Alloy and sent via remote_write
# Prometheus scrapes NOTHING (except optionally itself)
# ============================================================================

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s
  external_labels:
    cluster: 'homelab'
    environment: 'production'

# Load alerting rules
rule_files:
  - '/etc/prometheus/rules/*.yml'

# ============================================================================
# SCRAPE CONFIGURATIONS (Minimal/None)
# ============================================================================

scrape_configs:
  # Optional: Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
        labels:
          instance: 'prometheus'
          vm: 'observability'
          service: 'observability'

# ============================================================================
# NOTES
# ============================================================================
# All other metrics come via remote_write from Alloy instances:
# - Alloy (observability VM): SNMP, Proxmox, HA, apps, local metrics
# - Alloy (edge VM): edge host + container metrics
# - Alloy (db VM): db host + container metrics
# - Alloy (other VMs): host + container metrics
# ============================================================================
