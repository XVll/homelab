# OBSERVABILITY HOST ENVIRONMENT VARIABLES
# This file is committed to git (safe - contains only op:// references, not actual passwords)
# Deploy: op run --env-file=.env -- docker compose up -d

# ============================================================================
# 1PASSWORD STRUCTURE
# ============================================================================
# Vault: "Server"
# Items you need to create in 1Password:
#   - mongodb (fields: username, password) - for Komodo
#   - grafana (fields: username, password) - for Grafana admin
#   - beszel (fields: obs-key, obs-token) - for Beszel monitoring

# ============================================================================
# KOMODO - Requires MongoDB credentials from data host
# ============================================================================
MONGODB_ROOT_USER=op://Server/mongodb/username
MONGODB_ROOT_PASSWORD=op://Server/mongodb/password

# ============================================================================
# GRAFANA
# ============================================================================
GRAFANA_ADMIN_USER=op://Server/grafana/username
GRAFANA_ADMIN_PASSWORD=op://Server/grafana/password

# ============================================================================
# BESZEL - Server Monitoring Agent
# ============================================================================
# Each VM needs unique KEY and TOKEN from Beszel Hub
# Add "observability-vm" in Hub UI first, then add key/token to 1Password
BESZEL_KEY=op://Server/beszel/obs-key
BESZEL_TOKEN=op://Server/beszel/obs-token

# ============================================================================
# PROXMOX EXPORTER - VM Metrics from Hypervisor
# ============================================================================
# API user for reading VM metrics from Proxmox VE
# For API tokens: user should be just "monitor@pve" (without !tokenname)
# Token secret goes in PROXMOX_TOKEN
PROXMOX_USER=op://Server/proxmox/username
PROXMOX_TOKEN=op://Server/proxmox/token-secret

# ============================================================================
# HOME ASSISTANT - Prometheus Integration
# ============================================================================
# Long-lived access token for /api/prometheus endpoint
HOMEASSISTANT_TOKEN=op://Server/homeassistant/prometheus-token
HOMARR_ENCRYPTION_KEY=op://Server/homarr/secret

