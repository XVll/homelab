# ============================================================================
# SNMP Exporter Configuration for Synology NAS
# ============================================================================
# Simplified configuration compatible with Grafana Alloy SNMP exporter
# Based on UCD-SNMP-MIB, IF-MIB, HOST-RESOURCES-MIB
# ============================================================================

auths:
  homelab_v2:
    community: homelab
    security_level: noAuthNoPriv
    auth_protocol: MD5
    priv_protocol: DES
    version: 2

modules:
  synology:
    walk:
      # CPU & Load - UCD-SNMP-MIB
      - 1.3.6.1.4.1.2021.10.1.5     # laLoadInt (1, 5, 15 min load avg)
      - 1.3.6.1.4.1.2021.11          # ssCpu (User, System, Idle, Wait)

      # Memory - UCD-SNMP-MIB
      - 1.3.6.1.4.1.2021.4           # memory (Total/Avail Real, Swap, Cached, Buffer)

      # Network - IF-MIB (64-bit counters)
      - 1.3.6.1.2.1.31.1.1.1.1       # ifName
      - 1.3.6.1.2.1.31.1.1.1.6       # ifHCInOctets
      - 1.3.6.1.2.1.31.1.1.1.10      # ifHCOutOctets
      - 1.3.6.1.2.1.2.2.1.8          # ifOperStatus

      # Disk/Storage - HOST-RESOURCES-MIB
      - 1.3.6.1.2.1.25.2.3.1         # hrStorage (Descr, AllocationUnits, Size, Used)

      # Disk I/O - UCD-SNMP-MIB
      - 1.3.6.1.4.1.2021.13.15.1.1   # diskIO (Device, Reads, Writes, Bytes)

      # Synology-specific MIBs
      - 1.3.6.1.4.1.6574.1           # synoSystem (status, temp, fan)
      - 1.3.6.1.4.1.6574.2           # synoDisk (disk info)
      - 1.3.6.1.4.1.6574.3           # synoRaid (RAID status)

    # Minimal metrics - let walk auto-discover most metrics
    metrics:
      - name: sysUpTime
        oid: 1.3.6.1.2.1.1.3
        type: gauge
        help: System uptime in hundredths of a second
