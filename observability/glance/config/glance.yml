server:
  port: 8080

theme:
  background-color: 222 47 11   # Dark blue-gray (HSL)
  primary-color: 239 84 67      # Indigo (HSL)
  contrast-multiplier: 1.2

pages:
  - name: Homelab
    columns:
      - size: small
        widgets:
          - type: calendar

          - type: clock
            hour-format: 24h
            timezones:
              - timezone: America/New_York
                label: New York

          - type: weather
            location: New York, United States
            units: imperial

      - size: full
        widgets:
          - type: monitor
            title: Infrastructure
            cache: 1m
            sites:
              - title: Proxmox
                url: https://10.10.10.20:8006
                icon: si:proxmox
              - title: Synology NAS
                url: https://10.10.10.100:5001
                icon: si:synology

          - type: monitor
            title: Edge (110)
            cache: 1m
            sites:
              - title: Traefik
                url: http://10.10.10.110:8080
                icon: si:traefikproxy
              - title: AdGuard
                url: http://10.10.10.110:3000
                icon: si:adguard
              - title: Authentik
                url: http://10.10.10.110:9000

          - type: monitor
            title: Database (111)
            cache: 1m
            sites:
              - title: MinIO Console
                url: http://10.10.10.111:9002
                icon: si:minio
              - title: PostgreSQL
                url: http://10.10.10.111:5432
              - title: MongoDB
                url: http://10.10.10.111:27017
              - title: Redis
                url: http://10.10.10.111:6379

          - type: monitor
            title: Observability (112)
            cache: 1m
            sites:
              - title: Portainer
                url: https://10.10.10.112:9443
                icon: si:portainer
              - title: Grafana
                url: http://10.10.10.112:3000
                icon: si:grafana
              - title: Prometheus
                url: http://10.10.10.112:9090
                icon: si:prometheus
              - title: Loki
                url: http://10.10.10.112:3100
              - title: Homarr
                url: http://10.10.10.112:3002
              - title: Glance
                url: http://10.10.10.112:8080

          - type: monitor
            title: Media (113)
            cache: 1m
            sites:
              - title: Plex
                url: http://10.10.10.113:32400
                icon: si:plex
              - title: Overseerr
                url: http://10.10.10.113:5055
              - title: Sonarr
                url: http://10.10.10.113:8989
                icon: si:sonarr
              - title: Radarr
                url: http://10.10.10.113:7878
                icon: si:radarr
              - title: Prowlarr
                url: http://10.10.10.113:9696
              - title: SABnzbd
                url: http://10.10.10.113:8085
              - title: qBittorrent
                url: http://10.10.10.113:8080
              - title: Bazarr
                url: http://10.10.10.113:6767
              - title: Tautulli
                url: http://10.10.10.113:8181
              - title: Notifiarr
                url: http://10.10.10.113:5454

          - type: monitor
            title: Dev & Deploy
            cache: 1m
            sites:
              - title: Gitea
                url: http://10.10.10.114:3001
                icon: si:gitea
              - title: Coolify
                url: http://10.10.10.101:8000
              - title: Home Assistant
                url: http://10.10.10.116:8123
                icon: si:homeassistant

      - size: small
        widgets:
          - type: dns-stats
            title: AdGuard Home
            cache: 5m
            service: adguard
            url: ${ADGUARD_URL}
            username: ${ADGUARD_USERNAME}
            password: ${ADGUARD_PASSWORD}
            hour-format: 24h

          - type: server-stats
            title: Observability VM
            cache: 30s
            servers:
              - type: local
                name: observability (112)
                hide-swap: false

          - type: docker-containers
            title: Local Containers
            cache: 30s
            running-only: false

          - type: releases
            title: Infrastructure Releases
            cache: 1h
            limit: 5
            collapse-after: 3
            show-source-icon: true
            repositories:
              - glanceapp/glance
              - portainer/portainer
              - grafana/grafana
              - grafana/loki
              - grafana/alloy
              - traefik/traefik

          - type: custom-api
            title: SABnzbd Status
            cache: 30s
            url: ${SABNZBD_URL}/api?output=json&apikey=${SABNZBD_API_KEY}&mode=queue
            headers:
              Accept: application/json
            template: |
              <div class="p-2">
                <div class="flex justify-between mb-2">
                  <div class="flex-1">
                    <div class="size-h6">SPEED</div>
                    <div class="color-highlight size-h3">{{ if eq (.JSON.String "queue.status") "Downloading" }}{{ .JSON.String "queue.speed" }}B/s{{ else }}Paused{{ end }}</div>
                  </div>
                  <div class="flex-1">
                    <div class="size-h6">TIME LEFT</div>
                    <div class="color-highlight size-h3">{{ if eq (.JSON.String "queue.status") "Downloading" }}{{ .JSON.String "queue.timeleft" }}{{ else }}--:--:--{{ end }}</div>
                  </div>
                </div>
                <div class="flex justify-between mb-2">
                  <div class="flex-1">
                    <div class="size-h6">QUEUE</div>
                    <div class="color-highlight size-h3">{{ .JSON.Int "queue.noofslots" }} items</div>
                  </div>
                  <div class="flex-1">
                    <div class="size-h6">SIZE</div>
                    <div class="color-highlight size-h3">{{ .JSON.Float "queue.mb" | printf "%.1f" }}MB</div>
                  </div>
                </div>
              </div>

          - type: custom-api
            title: Sonarr Calendar
            cache: 5m
            url: ${SONARR_URL}/api/v3/calendar?start={{ .Date.StartOfToday }}&end={{ (.Date.StartOfToday.Add (336 * .Date.Hour)) }}&unmonitored=false
            headers:
              X-Api-Key: ${SONARR_API_KEY}
            template: |
              <div class="p-2">
                <div class="size-h5">Upcoming Episodes (14 days)</div>
                {{ range .JSON.Array }}
                  <div class="flex items-center mb-1 border-b pb-1">
                    <div class="flex-1">
                      <div class="size-h6 color-highlight">{{ .String "series.title" }}</div>
                      <div class="size-h7">S{{ .Int "seasonNumber" }}E{{ .Int "episodeNumber" }} - {{ .String "title" }}</div>
                      <div class="size-h8 color-subdue">{{ (.Get "airDate").Time.Format "Jan 02, 2006" }}</div>
                    </div>
                  </div>
                {{ end }}
              </div>

          - type: custom-api
            title: Radarr Calendar
            cache: 5m
            url: ${RADARR_URL}/api/v3/calendar?start={{ .Date.StartOfToday }}&end={{ (.Date.StartOfToday.Add (336 * .Date.Hour)) }}&unmonitored=false
            headers:
              X-Api-Key: ${RADARR_API_KEY}
            template: |
              <div class="p-2">
                <div class="size-h5">Upcoming Movies (14 days)</div>
                {{ range .JSON.Array }}
                  <div class="flex items-center mb-1 border-b pb-1">
                    <div class="flex-1">
                      <div class="size-h6 color-highlight">{{ .String "title" }}</div>
                      <div class="size-h7">{{ .String "studio" }}</div>
                      <div class="size-h8 color-subdue">{{ if .Get "inCinemas" }}{{ (.Get "inCinemas").Time.Format "Jan 02, 2006" }}{{ else }}TBA{{ end }}</div>
                    </div>
                  </div>
                {{ end }}
              </div>

          - type: rss
            title: Homelab News
            limit: 5
            collapse-after: 3
            feeds:
              - url: https://selfh.st/rss/
                title: Self-Hosted
